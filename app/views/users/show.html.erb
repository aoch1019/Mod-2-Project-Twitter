<%= link_to "View all users", users_path %>

<h1>
  <% if flash[:notice] %>
    <%= flash[:notice] %>
  <% end %><br>
</h1>


<h1>Welcome to the profile of:
    <%= @user.name %>
</h1>

<% if @user.profile_pic %>
<%= image_tag @user.profile_pic, :size => "280x180" %>
<% end %>

<br><br>
<h2>
Tweets feed:<br>
</h2>

<h4><% @user.tweets.each do |tweet| %>
     <%= "-------------------------------------" %><br>
     <h2><%= link_to tweet.content, user_tweet_path(tweet.user, tweet) %><br></h2>
     <h6> <%= "#{tweet.num_likes} like(s)" %> </h6>
     <h6> <% tweet.comments.reverse.each_with_index do |comment, index| %>
          <%  break if index > 4 %>
          <%= link_to "#{comment.user.name}:", user_path(comment.user) %>
          <%= link_to "#{comment.content}", user_tweet_comment_path(@user, tweet, comment) %><br>
          <%= image_tag comment.user.profile_pic, :size => "35x24" %><br>
          <% end %>
     </h6>
     <%= button_to "Like", user_tweet_likes_path(tweet.user, tweet, params: {origin: "user_show"}) %><br>
     <%= button_to "Add a comment", new_user_tweet_comment_path(tweet.user, tweet), :method => :get, params: {origin: "user_show"} %><br>
     <%= "-------------------------------------" %><br>
     <%  end %>
</h4>
<br><br>

<% if @user == current_user %>
  <%= link_to "Create a Tweet", new_user_tweet_path(@user) %><br><br>
  <%= button_to "Delete Account", @user, method: :delete %>
<% end %>
